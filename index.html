<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Armando Veloso - O Meu Mundo</title>
    <!-- Inclui o Tailwind CSS para estilização -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5; /* Um cinza claro para o fundo */
            color: #333; /* Cor de texto padrão */
        }
        .container {
            max-width: 1200px;
        }
        .card {
            background-color: #fff;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .section-title {
            color: #1a202c; /* Cor mais escura para títulos de seção */
        }
        .fcp-color {
            color: #004494; /* Azul do FC Porto */
        }
        .fcp-bg {
            background-color: #004494; /* Azul do FC Porto para fundo */
        }
        /* Estilo para o spinner de carregamento */
        .loader {
            border: 4px solid #f3f3f3; /* Light grey */
            border-top: 4px solid #3498db; /* Blue */
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">
    <!-- Cabeçalho do Site -->
    <header class="bg-gradient-to-r from-blue-700 to-blue-900 text-white py-6 shadow-lg rounded-b-lg">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-4xl md:text-5xl font-bold mb-2">Armando Veloso</h1>
            <p class="text-xl md:text-2xl font-light">O Meu Mundo</p>
        </div>
    </header>

    <!-- Conteúdo Principal -->
    <main class="flex-grow container mx-auto px-4 py-8">
        <!-- Seção de Boas-Vindas e Imagem -->
        <section class="flex flex-col md:flex-row items-center justify-center gap-8 mb-12 p-6 card rounded-lg">
            <div class="md:w-1/3 flex justify-center">
                <!-- Imagem do Armando Júlio de Jesus Veloso -->
                <!-- SUBSTITUA O 'src' ABAIXO PELO URL DIRETO DA SUA FOTOGRAFIA -->
                <img src="https://placehold.co/640x480/cccccc/333333?text=Sua+Foto" alt="Armando Júlio de Jesus Veloso" class="w-64 h-64 md:w-80 md:h-80 object-cover rounded-full shadow-lg border-4 border-blue-500" onerror="this.onerror=null;this.src='Julio.jpg';">
            </div>
            <div class="md:w-2/3 text-center md:text-left">
                <h2 class="text-3xl font-semibold section-title mb-4">Bem-vindo ao Meu Espaço Online!</h2>
                <p class="text-lg leading-relaxed">
                    Olá a todos! Meu nome é Armando Júlio de Jesus Veloso e este é o meu canto na internet para compartilhar um pouco sobre quem eu sou e o que me move.
                </p>
            </div>
        </section>

        <!-- Seção Sobre Mim e Educação -->
        <section class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
            <div class="p-6 card rounded-lg">
                <h3 class="text-2xl font-semibold section-title mb-4">Sobre Mim</h3>
                <p class="text-lg leading-relaxed">
                    Nasci em <span class="font-bold">14 de janeiro de 1966</span>, e ao longo da vida, a curiosidade e a busca por conhecimento sempre me acompanharam.
                </p>
            </div>
            <div class="p-6 card rounded-lg">
                <h3 class="text-2xl font-semibold section-title mb-4">Jornada Educacional</h3>
                <p class="text-lg leading-relaxed">
                    Minha jornada educacional começou com os primeiros anos de estudo (até o 2º Ano) e, mais tarde, retomei os livros à noite, completando o <span class="font-bold">9º ano (incompleto)</span>. Acredito que o aprendizado é contínuo e sempre há algo novo para descobrir.
                </p>
            </p>
            </div>
        </section>

        <!-- Seção Paixões e Passatempos -->
        <section class="p-6 card rounded-lg mb-12">
            <h2 class="text-3xl font-semibold section-title mb-6 text-center">Paixões e Passatempos</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Casa Inteligente -->
                <div class="bg-blue-50 p-6 rounded-lg shadow-md flex flex-col items-center text-center">
                    <svg class="w-16 h-16 text-blue-600 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001 1h3v-3m-3 0h3m-3 0a1 1 0 00-1 1v3m-3 3h3v-3m-3 0h3m-3 0a1 1 0 00-1 1v3m-3 3h3v-3m-3 0h3"></path></svg>
                    <h3 class="text-xl font-bold mb-2">Casa Inteligente</h3>
                    <p class="text-md leading-relaxed">
                        Meu grande passatempo e paixão é a <span class="font-bold">casa inteligente</span>. Adoro explorar as últimas tecnologias e transformar meu lar em um ambiente mais conectado e eficiente. A inovação nesse campo realmente me fascina!
                    </p>
                </div>

                <!-- Computadores -->
                <div class="bg-green-50 p-6 rounded-lg shadow-md flex flex-col items-center text-center">
                    <svg class="w-16 h-16 text-green-600 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-1.25-3M15 10V5a2 2 0 00-2-2H9a2 2 0 00-2 2v5m3 0h6m-6 0h-2M9 9l3 3m-3 0l-3-3m-3 3l3-3m-3 3l-3-3"></path></svg>
                    <h3 class="text-xl font-bold mb-2">Computadores</h3>
                    <p class="text-md leading-relaxed">
                        Sou um entusiasta de <span class="font-bold">computadores</span>. Desde a programação até a exploração de novas ferramentas, o mundo digital sempre me atraiu e me proporcionou muitas horas de diversão e aprendizado.
                    </p>
                </div>

                <!-- Futebol Clube do Porto -->
                <div class="bg-blue-100 p-6 rounded-lg shadow-md flex flex-col items-center text-center">
                    <svg class="w-16 h-16 fcp-color mb-4" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15H9v-2h2v2zm0-4H9V7h2v6zm4 0h-2V7h2v6z"></path></svg>
                    <h3 class="text-xl font-bold mb-2 fcp-color">Futebol Clube do Porto</h3>
                    <p class="text-md leading-relaxed">
                        No esporte, meu coração bate forte pelo <span class="font-bold">Futebol Clube do Porto</span>. Sou um torcedor apaixonado e vibrar com as vitórias do meu time é sempre uma grande alegria.
                    </p>
                </div>

                <!-- Música -->
                <div class="bg-purple-50 p-6 rounded-lg shadow-md flex flex-col items-center text-center col-span-1 md:col-span-2 lg:col-span-1 mx-auto">
                    <svg class="w-16 h-16 text-purple-600 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c-3.866 0-7 1.5-7 3s3.134 3 7 3 7-1.5 7-3-3.134-3-7-3zm0 0V6m0 0l12-3v13m-3 0c-3.866 0-7 1.5-7 3s3.134 3 7 3 7-1.5 7-3-3.134-3-7-3z"></path></svg>
                    <h3 class="text-xl font-bold mb-2">Música</h3>
                    <p class="text-md leading-relaxed">
                        Quando o assunto é música, minhas playlists são recheadas de <span class="font-bold">country e pop</span>. Gosto da diversidade e da energia que esses gêneros musicais trazem.
                    </p>
                </div>
            </div>
        </section>

        <!-- Nova Seção: Dicas e Curiosidades de Casa Inteligente (com Gemini API) -->
        <section class="p-6 card rounded-lg mb-12 text-center">
            <h2 class="text-3xl font-semibold section-title mb-6">✨ Dicas e Curiosidades de Casa Inteligente ✨</h2>
            <button id="generateTipBtn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75">
                Gerar Curiosidade
            </button>
            <div id="tipOutput" class="mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg text-lg text-left hidden">
                <!-- O texto gerado pela API será inserido aqui -->
            </div>
            <div id="loadingSpinner" class="hidden mt-4 flex justify-center">
                <div class="loader"></div>
            </div>
        </section>

        <!-- Nova Seção: Explicador de Termos de Informática (com Gemini API) -->
        <section class="p-6 card rounded-lg mb-12 text-center">
            <h2 class="text-3xl font-semibold section-title mb-6">✨ Explicador de Termos de Informática ✨</h2>
            <div class="flex flex-col md:flex-row items-center justify-center gap-4 mb-4">
                <input type="text" id="computerTermInput" placeholder="Digite um termo (ex: Firewall, Nuvem)" class="flex-grow p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 max-w-md">
                <button id="explainTermBtn" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-75">
                    Explicar Termo
                </button>
            </div>
            <div id="termExplanationOutput" class="mt-6 p-4 bg-purple-50 border border-purple-200 rounded-lg text-lg text-left hidden">
                <!-- A explicação gerada pela API será inserida aqui -->
            </div>
            <div id="loadingTermSpinner" class="hidden mt-4 flex justify-center">
                <div class="loader"></div>
            </div>
        </section>

        <!-- Nova Seção: Sugestões Musicais (com Gemini API) -->
        <section class="p-6 card rounded-lg mb-12 text-center">
            <h2 class="text-3xl font-semibold section-title mb-6">✨ Sugestões Musicais ✨</h2>
            <div class="flex flex-col md:flex-row items-center justify-center gap-4 mb-4">
                <input type="text" id="musicMoodInput" placeholder="Digite um humor ou tema (ex: relaxar, energia, amor)" class="flex-grow p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 max-w-md">
                <button id="generateMusicBtn" class="bg-pink-600 hover:bg-pink-700 text-white font-bold py-3 px-6 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-opacity-75">
                    Gerar Sugestão Musical
                </button>
            </div>
            <div id="musicOutput" class="mt-6 p-4 bg-pink-50 border border-pink-200 rounded-lg text-lg text-left hidden">
                <!-- A sugestão musical gerada pela API será inserida aqui -->
            </div>
            <div id="loadingMusicSpinner" class="hidden mt-4 flex justify-center">
                <div class="loader"></div>
            </div>
        </section>

        <!-- Nova Seção: Curiosidades sobre o FC Porto (com Gemini API) -->
        <section class="p-6 card rounded-lg mb-12 text-center">
            <h2 class="text-3xl font-semibold section-title mb-6">✨ Curiosidades sobre o FC Porto ✨</h2>
            <button id="generateFCPFactBtn" class="bg-fcp-bg hover:bg-blue-800 text-white font-bold py-3 px-6 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75">
                Gerar Curiosidade do FC Porto
            </button>
            <div id="fcpFactOutput" class="mt-6 p-4 bg-blue-100 border border-blue-300 rounded-lg text-lg text-left hidden">
                <!-- O facto gerado pela API será inserido aqui -->
            </div>
            <div id="loadingFCPFactSpinner" class="hidden mt-4 flex justify-center">
                <div class="loader"></div>
            </div>
        </section>

        <!-- Nova Seção: Pensamento do Dia (com Gemini API) -->
        <section class="p-6 card rounded-lg mb-12 text-center">
            <h2 class="text-3xl font-semibold section-title mb-6">✨ Pensamento do Dia ✨</h2>
            <button id="generateThoughtBtn" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-6 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-75">
                Gerar Pensamento
            </button>
            <div id="thoughtOutput" class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg text-lg text-left hidden">
                <!-- O pensamento gerado pela API será inserido aqui -->
            </div>
            <div id="loadingThoughtSpinner" class="hidden mt-4 flex justify-center">
                <div class="loader"></div>
            </div>
        </section>


        <!-- Conclusão -->
        <section class="p-6 card rounded-lg text-center">
            <p class="text-lg leading-relaxed">
                Espero que você tenha gostado de conhecer um pouco mais sobre mim!
            </p>
        </section>
    </main>

    <!-- Rodapé do Site -->
    <footer class="bg-gray-800 text-white py-6 mt-8 rounded-t-lg">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; 2025 Armando Júlio de Jesus Veloso. Todos os direitos reservados.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const generateTipBtn = document.getElementById('generateTipBtn');
            const tipOutput = document.getElementById('tipOutput');
            const loadingSpinner = document.getElementById('loadingSpinner');

            const computerTermInput = document.getElementById('computerTermInput');
            const explainTermBtn = document.getElementById('explainTermBtn');
            const termExplanationOutput = document.getElementById('termExplanationOutput');
            const loadingTermSpinner = document.getElementById('loadingTermSpinner');

            const musicMoodInput = document.getElementById('musicMoodInput');
            const generateMusicBtn = document.getElementById('generateMusicBtn');
            const musicOutput = document.getElementById('musicOutput');
            const loadingMusicSpinner = document.getElementById('loadingMusicSpinner');

            const generateFCPFactBtn = document.getElementById('generateFCPFactBtn');
            const fcpFactOutput = document.getElementById('fcpFactOutput');
            const loadingFCPFactSpinner = document.getElementById('loadingFCPFactSpinner');

            const generateThoughtBtn = document.getElementById('generateThoughtBtn');
            const thoughtOutput = document.getElementById('thoughtOutput');
            const loadingThoughtSpinner = document.getElementById('loadingThoughtSpinner');

            // Helper function for exponential backoff with retry
            // This function attempts to fetch data from a given URL with a specified number of retries
            // and an increasing delay between retries (exponential backoff).
            // It handles network errors and HTTP 429 (Too Many Requests) or 5xx (Server Error) statuses.
            async function fetchWithRetry(url, options, retries = 3, delay = 1000) {
                for (let i = 0; i < retries; i++) {
                    try {
                        const response = await fetch(url, options);
                        if (response.ok) {
                            // If the response is successful, return it
                            return response;
                        } else if (response.status === 429 || response.status >= 500) {
                            // If it's a rate limit error or server error, log a warning and retry
                            console.warn(`Retry attempt ${i + 1} for ${url}. Status: ${response.status}`);
                            await new Promise(resolve => setTimeout(resolve, delay * Math.pow(2, i)));
                        } else {
                            // For other client-side errors (e.g., 400, 404), throw an error immediately
                            throw new Error(`HTTP error! Status: ${response.status}`);
                        }
                    } catch (error) {
                        // Catch network errors or errors thrown from the response status check
                        if (i === retries - 1) {
                            // If this is the last retry attempt, re-throw the error
                            throw error;
                        }
                        // Log the error and wait before the next retry
                        console.error(`Fetch error on attempt ${i + 1}:`, error);
                        await new Promise(resolve => setTimeout(resolve, delay * Math.pow(2, i)));
                    }
                }
                // If all retries fail, throw a final error
                throw new Error('Max retries exceeded');
            }

            // Function to call the Gemini API
            // It takes a prompt and the output element, spinner, and model name as arguments.
            async function callGeminiAPI(prompt, outputElement, spinnerElement, modelName = "gemini-2.5-flash-preview-05-20") {
                outputElement.classList.add('hidden'); // Hide previous output
                spinnerElement.classList.remove('hidden'); // Show loading spinner

                try {
                    let chatHistory = [];
                    chatHistory.push({ role: "user", parts: [{ text: prompt }] });

                    const payload = {
                        contents: chatHistory
                    };
                    const apiKey = ""; // API key will be provided automatically by the environment
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/${modelName}:generateContent?key=${apiKey}`;

                    // Use fetchWithRetry for robust API calls
                    const response = await fetchWithRetry(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    const result = await response.json();

                    // Check if the response contains valid content
                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        outputElement.textContent = text;
                        outputElement.classList.remove('hidden'); // Show generated text
                    } else {
                        outputElement.textContent = 'Não foi possível gerar o conteúdo. Tente novamente.';
                        outputElement.classList.remove('hidden');
                    }
                } catch (error) {
                    console.error(`Erro ao chamar a API Gemini para ${prompt.substring(0, 30)}...:`, error);
                    outputElement.textContent = 'Ocorreu um erro ao gerar o conteúdo. Verifique a consola para mais detalhes.';
                    outputElement.classList.remove('hidden');
                } finally {
                    spinnerElement.classList.add('hidden'); // Hide loading spinner
                }
            }

            // Funcionalidade para Dicas de Casa Inteligente
            generateTipBtn.addEventListener('click', async () => {
                const prompt = "Gere uma curiosidade interessante ou uma dica útil sobre casas inteligentes, com no máximo 100 palavras e em português de Portugal. Comece diretamente com a curiosidade/dica, sem introduções como 'Sabia que...' ou 'Aqui está uma dica:'.";
                await callGeminiAPI(prompt, tipOutput, loadingSpinner);
            });

            // Funcionalidade para Explicador de Termos de Informática
            explainTermBtn.addEventListener('click', async () => {
                const term = computerTermInput.value.trim();
                if (!term) {
                    termExplanationOutput.textContent = 'Por favor, digite um termo para explicar.';
                    termExplanationOutput.classList.remove('hidden');
                    return;
                }
                const prompt = `Explique o termo de informática '${term}' de forma concisa e fácil de entender, com no máximo 80 palavras, em português de Portugal. Evite introduções e conclusões.`;
                await callGeminiAPI(prompt, termExplanationOutput, loadingTermSpinner);
            });

            // Funcionalidade para Sugestões Musicais
            generateMusicBtn.addEventListener('click', async () => {
                const mood = musicMoodInput.value.trim();
                if (!mood) {
                    musicOutput.textContent = 'Por favor, digite um humor ou tema para gerar uma sugestão musical.';
                    musicOutput.classList.remove('hidden');
                    return;
                }
                const prompt = `Sugira uma música ou artista do género Country ou Pop que se adeque ao humor/tema '${mood}', em português de Portugal. Inclua o nome da música (se aplicável) e do artista. Seja conciso, com no máximo 80 palavras.`;
                await callGeminiAPI(prompt, musicOutput, loadingMusicSpinner);
            });

            // Funcionalidade para Curiosidades sobre o FC Porto
            generateFCPFactBtn.addEventListener('click', async () => {
                const prompt = "Gere uma curiosidade interessante ou um facto histórico sobre o Futebol Clube do Porto, com no máximo 100 palavras e em português de Portugal. Comece diretamente com a curiosidade/facto, sem introduções.";
                await callGeminiAPI(prompt, fcpFactOutput, loadingFCPFactSpinner);
            });

            // Funcionalidade para Pensamento do Dia
            generateThoughtBtn.addEventListener('click', async () => {
                const prompt = "Gere um pensamento do dia ou uma citação inspiradora, com no máximo 80 palavras, em português de Portugal. O pensamento deve estar relacionado com temas como aprendizagem contínua, tecnologia, superação ou paixão por hobbies. Comece diretamente com o pensamento/citação, sem introduções.";
                await callGeminiAPI(prompt, thoughtOutput, loadingThoughtSpinner);
            });
        });
    </script>
</body>
</html>
